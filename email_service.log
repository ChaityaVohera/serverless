2024-11-30T02:59:19.520Z - INFO: Handler triggered for email verification
2024-11-30T02:59:19.527Z - INFO: Received SNS message for email: chaitya.cv@gmail.com
2024-11-30T02:59:19.528Z - INFO: Verification link created: undefinedundefined?token=56523432536345&email=chaitya.cv%40gmail.com
2024-11-30T02:59:19.529Z - ERROR: Error processing the verification emails: TypeError [ERR_INVALID_URL]: Invalid URL
2024-11-30T03:02:04.035Z - INFO: Handler triggered for email verification
2024-11-30T03:02:04.048Z - INFO: Received SNS message for email: chaitya.cv@gmail.com
2024-11-30T03:02:04.048Z - INFO: Verification link created: https://demo.chaityavohera.me/verify?token=56523432536345&email=chaitya.cv%40gmail.com
2024-11-30T03:02:04.746Z - INFO: Email sent to chaitya.cv@gmail.com with response: [{"statusCode":202,"body":"","headers":{"server":"nginx","date":"Sat, 30 Nov 2024 03:02:04 GMT","content-length":"0","connection":"close","x-message-id":"luzh70qmTKmijVt-f08SqA","access-control-allow-origin":"https://sendgrid.api-docs.io","access-control-allow-methods":"POST","access-control-allow-headers":"Authorization, Content-Type, On-behalf-of, x-sg-elas-acl","access-control-max-age":"600","x-no-cors-reason":"https://sendgrid.com/docs/Classroom/Basics/API/cors.html","strict-transport-security":"max-age=600; includeSubDomains"}},""]
2024-11-30T03:02:04.746Z - INFO: All emails processed successfully
2024-11-30T06:05:31.279Z - INFO: Handler triggered for email verification
2024-11-30T06:05:31.289Z - INFO: Received SNS message for email: chaitya.cv@gmail.com
2024-11-30T06:05:31.290Z - INFO: Verification link created: https://demo.chaityavohera.me/verify?token=56523432536345&email=chaitya.cv%40gmail.com
2024-11-30T06:05:31.792Z - INFO: Email sent to chaitya.cv@gmail.com with response: [{"statusCode":202,"body":"","headers":{"server":"nginx","date":"Sat, 30 Nov 2024 06:05:31 GMT","content-length":"0","connection":"close","x-message-id":"RrlIH1bbTSOJYkxBCRU0Aw","access-control-allow-origin":"https://sendgrid.api-docs.io","access-control-allow-methods":"POST","access-control-allow-headers":"Authorization, Content-Type, On-behalf-of, x-sg-elas-acl","access-control-max-age":"600","x-no-cors-reason":"https://sendgrid.com/docs/Classroom/Basics/API/cors.html","strict-transport-security":"max-age=600; includeSubDomains"}},""]
2024-11-30T06:05:31.792Z - INFO: All emails processed successfully
2024-11-30T06:26:09.868Z - INFO: Handler triggered for email verification
2024-11-30T06:26:09.871Z - DEBUG: Event received: {
  "Records": [
    {
      "Sns": {
        "Message": "{\"email\": \"chaitya.cv@gmail.com\", \"verificationToken\": \"56523432536345\", \"baseURL\": \"https://demo.chaityavohera.me\", \"verificationPath\": \"/verify\"}"
      }
    }
  ]
}
2024-11-30T06:26:09.871Z - INFO: Running in non-production environment. Using .env file for SendGrid API key.
2024-11-30T06:26:09.879Z - INFO: SendGrid API key set successfully.
2024-11-30T06:26:09.880Z - DEBUG: Processing record: {
  "Sns": {
    "Message": "{\"email\": \"chaitya.cv@gmail.com\", \"verificationToken\": \"56523432536345\", \"baseURL\": \"https://demo.chaityavohera.me\", \"verificationPath\": \"/verify\"}"
  }
}
2024-11-30T06:26:09.880Z - INFO: Received SNS message for email: chaitya.cv@gmail.com
2024-11-30T06:26:09.881Z - DEBUG: Verification token: 56523432536345
2024-11-30T06:26:09.881Z - DEBUG: Base URL: https://demo.chaityavohera.me
2024-11-30T06:26:09.881Z - DEBUG: Verification path: /verify
2024-11-30T06:26:09.881Z - INFO: Verification link created: https://demo.chaityavohera.me/verify?token=56523432536345&email=chaitya.cv%40gmail.com
2024-11-30T06:26:09.882Z - DEBUG: Email message prepared: {
  "to": "chaitya.cv@gmail.com",
  "from": "noreply@demo.chaityavohera.me",
  "subject": "CSYE6225 Webapp - Verify Your Email",
  "html": "<p>Dear User,<br>Please verify your email by <a href=\"https://demo.chaityavohera.me/verify?token=56523432536345&email=chaitya.cv%40gmail.com\">clicking here</a>. This link expires in 2 minutes.<br><br>Thanks, <br>Your Team</p>"
}
2024-11-30T06:26:10.474Z - INFO: Email sent to chaitya.cv@gmail.com successfully. Response: [{"statusCode":202,"body":"","headers":{"server":"nginx","date":"Sat, 30 Nov 2024 06:26:10 GMT","content-length":"0","connection":"close","x-message-id":"heaI-lT_TmOBU-LNBPrq2g","access-control-allow-origin":"https://sendgrid.api-docs.io","access-control-allow-methods":"POST","access-control-allow-headers":"Authorization, Content-Type, On-behalf-of, x-sg-elas-acl","access-control-max-age":"600","x-no-cors-reason":"https://sendgrid.com/docs/Classroom/Basics/API/cors.html","strict-transport-security":"max-age=600; includeSubDomains"}},""]
2024-11-30T06:26:10.476Z - INFO: All emails processed successfully
2024-11-30T08:23:52.687Z - INFO: Handler triggered for email verification
2024-11-30T08:23:52.692Z - DEBUG: Event received: {
  "Records": [
    {
      "Sns": {
        "Message": "{\"email\": \"chaitya.cv@gmail.com\", \"verificationToken\": \"56523432536345\", \"baseURL\": \"https://demo.chaityavohera.me\", \"verificationPath\": \"/verify\"}"
      }
    }
  ]
}
2024-11-30T08:23:52.693Z - INFO: Running in non-production environment. Using .env file for SendGrid API key.
2024-11-30T08:23:52.694Z - DEBUG: SendGrid API Key (partial): SG.j...
2024-11-30T08:23:52.701Z - INFO: Fetching SendGrid API key...
2024-11-30T08:23:52.703Z - INFO: SendGrid API key set successfully.
2024-11-30T08:23:52.704Z - DEBUG: Processing record: {
  "Sns": {
    "Message": "{\"email\": \"chaitya.cv@gmail.com\", \"verificationToken\": \"56523432536345\", \"baseURL\": \"https://demo.chaityavohera.me\", \"verificationPath\": \"/verify\"}"
  }
}
2024-11-30T08:23:52.704Z - INFO: Received SNS message for email: chaitya.cv@gmail.com
2024-11-30T08:23:52.704Z - DEBUG: Verification token: 56523432536345
2024-11-30T08:23:52.707Z - DEBUG: Base URL: https://demo.chaityavohera.me
2024-11-30T08:23:52.708Z - DEBUG: Verification path: /verify
2024-11-30T08:23:52.708Z - INFO: Verification link created: https://demo.chaityavohera.me/verify?token=56523432536345&email=chaitya.cv%40gmail.com
2024-11-30T08:23:52.708Z - DEBUG: Email message prepared: {
  "to": "chaitya.cv@gmail.com",
  "from": "noreply@demo.chaityavohera.me",
  "subject": "CSYE6225 Webapp - Verify Your Email",
  "html": "<p>Dear User,<br>Please verify your email by <a href=\"https://demo.chaityavohera.me/verify?token=56523432536345&email=chaitya.cv%40gmail.com\">clicking here</a>. This link expires in 2 minutes.<br><br>Thanks, <br>Your Team</p>"
}
2024-11-30T08:23:53.441Z - INFO: Email sent to chaitya.cv@gmail.com successfully. Response: [{"statusCode":202,"body":"","headers":{"server":"nginx","date":"Sat, 30 Nov 2024 08:23:53 GMT","content-length":"0","connection":"close","x-message-id":"KuQgltTNSnKtusinlwZHTg","access-control-allow-origin":"https://sendgrid.api-docs.io","access-control-allow-methods":"POST","access-control-allow-headers":"Authorization, Content-Type, On-behalf-of, x-sg-elas-acl","access-control-max-age":"600","x-no-cors-reason":"https://sendgrid.com/docs/Classroom/Basics/API/cors.html","strict-transport-security":"max-age=600; includeSubDomains"}},""]
2024-11-30T08:23:53.442Z - INFO: All emails processed successfully
2024-12-01T00:14:32.607Z - INFO: Handler triggered for email verification
2024-12-01T00:14:32.621Z - ERROR: Failed to retrieve SendGrid API key: Missing region in config
2024-12-01T00:14:32.624Z - ERROR: Error processing the verification emails: ConfigError: Missing region in config
2024-12-01T00:22:08.896Z - INFO: Handler triggered for email verification
2024-12-01T00:22:09.258Z - ERROR: Failed to retrieve SendGrid API key: Secrets Manager can't find the specified secret.
2024-12-01T00:22:09.259Z - ERROR: Error processing the verification emails: ResourceNotFoundException: Secrets Manager can't find the specified secret.
2024-12-01T00:30:37.691Z - INFO: Handler triggered for email verification
2024-12-01T00:30:37.697Z - DEBUG: Event received: {
  "Records": [
    {
      "Sns": {
        "Message": "{\"email\": \"chaitya.cv@gmail.com\", \"verificationToken\": \"56523432536345\", \"baseURL\": \"https://demo.chaityavohera.me\", \"verificationPath\": \"/verify\"}"
      }
    }
  ]
}
2024-12-01T00:30:37.698Z - INFO: Running in production environment. Fetching SendGrid API key from AWS Secrets Manager.
2024-12-01T00:30:37.699Z - DEBUG: Fetching secret: sendgrid-api-key
2024-12-01T00:30:38.047Z - ERROR: Error fetching secret sendgrid-api-key: ResourceNotFoundException: Secrets Manager can't find the specified secret.
2024-12-01T00:30:38.047Z - ERROR: Error loading SendGrid API key: Failed to fetch secret: Secrets Manager can't find the specified secret.
2024-12-01T00:30:38.048Z - ERROR: Error processing the verification emails: Error: Failed to fetch secret: Secrets Manager can't find the specified secret.
2024-12-01T00:30:57.067Z - INFO: Handler triggered for email verification
2024-12-01T00:30:57.070Z - DEBUG: Event received: {
  "Records": [
    {
      "Sns": {
        "Message": "{\"email\": \"chaitya.cv@gmail.com\", \"verificationToken\": \"56523432536345\", \"baseURL\": \"https://demo.chaityavohera.me\", \"verificationPath\": \"/verify\"}"
      }
    }
  ]
}
2024-12-01T00:30:57.070Z - INFO: Running in production environment. Fetching SendGrid API key from AWS Secrets Manager.
2024-12-01T00:30:57.071Z - DEBUG: Fetching secret: sendgrid-api-key
2024-12-01T00:30:57.381Z - ERROR: Error fetching secret sendgrid-api-key: ResourceNotFoundException: Secrets Manager can't find the specified secret.
2024-12-01T00:30:57.382Z - ERROR: Error loading SendGrid API key: Error: Failed to fetch secret: Secrets Manager can't find the specified secret.
2024-12-01T00:30:57.382Z - ERROR: Error processing the verification emails: Error: Failed to fetch secret: Secrets Manager can't find the specified secret.
2024-12-01T01:02:55.127Z - INFO: Handler triggered for email verification
2024-12-01T01:02:55.132Z - DEBUG: Event received: {
  "Records": [
    {
      "Sns": {
        "Message": "{\"email\": \"chaitya.cv@gmail.com\", \"verificationToken\": \"56523432536345\", \"baseURL\": \"https://demo.chaityavohera.me\", \"verificationPath\": \"/verify\"}"
      }
    }
  ]
}
2024-12-01T01:02:55.133Z - INFO: Running in production environment. Fetching SendGrid API key from AWS Secrets Manager.
2024-12-01T01:02:55.133Z - DEBUG: Fetching secret: sendgrid-api-key
2024-12-01T01:02:55.489Z - DEBUG: Secret string received for: sendgrid-api-key
2024-12-01T01:02:55.489Z - DEBUG: SendGrid API key fetched successfully from Secrets Manager.
2024-12-01T01:02:55.490Z - DEBUG: SendGrid API Key (partial): SG.j...
2024-12-01T01:02:55.490Z - INFO: Fetching SendGrid API key...
2024-12-01T01:02:55.491Z - INFO: SendGrid API key set successfully.
2024-12-01T01:02:55.491Z - DEBUG: Processing record: {
  "Sns": {
    "Message": "{\"email\": \"chaitya.cv@gmail.com\", \"verificationToken\": \"56523432536345\", \"baseURL\": \"https://demo.chaityavohera.me\", \"verificationPath\": \"/verify\"}"
  }
}
2024-12-01T01:02:55.491Z - INFO: Received SNS message for email: chaitya.cv@gmail.com
2024-12-01T01:02:55.492Z - DEBUG: Verification token: 56523432536345
2024-12-01T01:02:55.492Z - DEBUG: Base URL: https://demo.chaityavohera.me
2024-12-01T01:02:55.492Z - DEBUG: Verification path: /verify
2024-12-01T01:02:55.492Z - INFO: Verification link created: https://demo.chaityavohera.me/verify?token=56523432536345&email=chaitya.cv%40gmail.com
2024-12-01T01:02:55.492Z - DEBUG: Email message prepared: {
  "to": "chaitya.cv@gmail.com",
  "from": "noreply@demo.chaityavohera.me",
  "subject": "CSYE6225 Webapp - Verify Your Email",
  "html": "<p>Dear User,<br>Please verify your email by <a href=\"https://demo.chaityavohera.me/verify?token=56523432536345&email=chaitya.cv%40gmail.com\">clicking here</a>. This link expires in 2 minutes.<br><br>Thanks, <br>Your Team</p>"
}
2024-12-01T01:02:55.782Z - INFO: Email sent to chaitya.cv@gmail.com successfully. Response: [{"statusCode":202,"body":"","headers":{"server":"nginx","date":"Sun, 01 Dec 2024 01:02:55 GMT","content-length":"0","connection":"close","x-message-id":"RmrASWJbS9ec5Tk3PDFRCA","access-control-allow-origin":"https://sendgrid.api-docs.io","access-control-allow-methods":"POST","access-control-allow-headers":"Authorization, Content-Type, On-behalf-of, x-sg-elas-acl","access-control-max-age":"600","x-no-cors-reason":"https://sendgrid.com/docs/Classroom/Basics/API/cors.html","strict-transport-security":"max-age=600; includeSubDomains"}},""]
2024-12-01T01:02:55.783Z - INFO: All emails processed successfully
